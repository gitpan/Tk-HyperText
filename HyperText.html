<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Tk::HyperText - Create and manipulate ROText widgets which render HTML code.</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#widgetspecific_options">WIDGET-SPECIFIC OPTIONS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#widget_methods">WIDGET METHODS</a></li>
	<li><a href="#supported_html">SUPPORTED HTML</a></li>
	<li><a href="#example">EXAMPLE</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#changes">CHANGES</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Tk::HyperText - Create and manipulate ROText widgets which render HTML code.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  my $hypertext = $mw-&gt;Scrolled (&quot;HyperText&quot;,
    -scrollbars   =&gt; 'e',
    -wrap         =&gt; 'word',
    -linkcommand  =&gt; \&amp;onLink,  # what to do when &lt;a&gt; links are clicked
    -titlecommand =&gt; \&amp;onTitle, # what to do when &lt;title&gt;s are found
  )-&gt;pack (-fill =&gt; 'both', -expand =&gt; 1);</pre>
<pre>
  # insert some HTML code
  $hypertext-&gt;insert (&quot;end&quot;,&quot;&lt;body bgcolor=\&quot;black\&quot; text=\&quot;yellow\&quot;&gt;&quot;
    . &quot;Hello, &lt;b&gt;world!&lt;/b&gt;&lt;/body&gt;&quot;);</pre>
<p>
</p>
<hr />
<h1><a name="widgetspecific_options">WIDGET-SPECIFIC OPTIONS</a></h1>
<dl>
<dt><strong><a name="item__2drerender"><strong>-rerender</strong></a></strong>

<dd>
<p>Boolean. When true (the default), the ENTIRE contents of your HyperText widget will
be (re)rendered every time you modify it. In this way, if you insert, e.g. a ``bold''
tag and don't close it, then insert new text, the new text should logically still be
in bold, and it would be when this flag is true.</p>
</dd>
<dd>
<p>When false, only the newly inserted text will be rendered independently of what else
is already there. If re-rendering the page is too slow for you, try disabling this flag.</p>
</dd>
</li>
<dt><strong><a name="item__2dtitlecommand"><strong>-titlecommand</strong></a></strong>

<dd>
<p>This should be a CODEREF pointing to a subroutine that will handle changes in a
page's title. While HTML code is being parsed, when a title tag is found, it will
call this method.</p>
</dd>
<dd>
<p>The callback will received the following variables:</p>
</dd>
<dd>
<pre>
  $widget = a reference to the HyperText widget that wants to set a title.
  $title  = the text in the &lt;title&gt; tag.</pre>
</dd>
</li>
<dt><strong><a name="item__2dlinkcommand"><strong>-linkcommand</strong></a></strong>

<dd>
<p>This should be a CODEREF pointing to a subroutine that will handle the clicking
of hyperlinks.</p>
</dd>
<dd>
<p>The callback will received the following variables:</p>
</dd>
<dd>
<pre>
  $widget = a reference to the HyperText widget that invoked the link.
  $href   = the value of the link's &quot;href&quot; attribute.
  $target = the value of the link's &quot;target&quot; attribute.</pre>
</dd>
</li>
<dt><strong><a name="item__2dattributes"><strong>-attributes</strong></a></strong>

<dd>
<p>This option will allow you to define all of the default settings for the display
of HTML pages. Here's an example:</p>
</dd>
<dd>
<pre>
  my $html = $mw-&gt;Scrolled (&quot;HyperText&quot;,
    -attributes =&gt; {
      body =&gt; {
        bgcolor =&gt; 'white',
        text    =&gt; 'black',
        link    =&gt; 'blue',
        vlink   =&gt; 'purple',
        alink   =&gt; 'red',
      },
      font =&gt; {
        family =&gt; 'Arial',
        size   =&gt; 3,
        color  =&gt; '', # inherit from &lt;body&gt;
        back   =&gt; '', # inherit from &lt;body&gt;
      },
    },
  )-&gt;pack;</pre>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Tk::HyperText is a derived Tk::ROText class which supports the automatic rendering
of HTML code. It's designed to be easily useable as a drop-in replacement to any
Tk::ROText widget. Rendering HTML code is as easy as <strong>insert</strong>ing it as raw HTML,
as shown in the synopsis.</p>
<p>
</p>
<hr />
<h1><a name="widget_methods">WIDGET METHODS</a></h1>
<p>In addition to all of the methods exported by Tk::ROText and Tk::Text, the following
methods have special behaviors:</p>
<dl>
<dt><strong><a name="item_insert"><em>$text-&gt;</em><strong>insert</strong> <em>(where, html-code)</em></a></strong>

<dd>
<p>Insert new HTML code, and render it automatically. Note that currently, only inserting
to the ``end'' works. See <a href="#bugs">BUGS</a> below.</p>
</dd>
</li>
<dt><strong><a name="item_delete"><em>$text-&gt;</em><strong>delete</strong> <em>(start, end)</em></a></strong>

<dd>
<p>Delete content from the textbox. Note that currently you can only delete EVERYTHING.
See <a href="#bugs">BUGS</a> below.</p>
</dd>
</li>
<dt><strong><a name="item_get"><em>$text-&gt;</em><strong>get</strong> <em>(start, end)</em></a></strong>

<dd>
<p>Get the HTML code back out of the widget. Note that currently this gets ALL of the code.
See <a href="#bugs">BUGS</a>. This returns the actual HTML code, not just the text that's been rendered.</p>
</dd>
</li>
<dt><strong><a name="item_clear"><em>$text-&gt;</em><strong>clear</strong></a></strong>

<dd>
<p>Clear the entire text widget display.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="supported_html">SUPPORTED HTML</a></h1>
<p>The following HTML tags and attributes are fully supported by this module:</p>
<pre>
  &lt;html&gt;, &lt;head&gt;
  &lt;title&gt;      *calls -titlecommand when found
  &lt;body&gt;       (bgcolor, link, vlink, alink, text)
  &lt;font&gt;       (face, size, color, back)
  &lt;a&gt;          (href, target)
  &lt;blockquote&gt;
  &lt;p&gt;, &lt;br&gt;
  &lt;pre&gt;
  &lt;code&gt;, &lt;tt&gt;
  &lt;center&gt;, &lt;right&gt;, &lt;left&gt;
  &lt;h1&gt; - &lt;h6&gt;
  &lt;sup&gt;, &lt;sub&gt;
  &lt;b&gt;, &lt;strong&gt;
  &lt;i&gt;, &lt;em&gt;
  &lt;u&gt;, &lt;ins&gt;
  &lt;s&gt;, &lt;del&gt;</pre>
<p>
</p>
<hr />
<h1><a name="example">EXAMPLE</a></h1>
<p>Run the `demo.pl` program included in the distribution for a demonstration. It's a
kind of simple web browser that views HTML pages in the ``demolib'' directory, and
supports hyperlinks that link from one page to another.</p>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>As noted above, the <strong>insert</strong> method only inserts at the end, <strong>delete</strong> deletes
everything, and <strong>get</strong> gets everything. I plan on coming up with a way to fix this
in a later version.</p>
<p>There are some forms of HTML that might not render properly. For instance, if you
set &lt;font back=``yellow''&gt;, then set &lt;font color=``red''&gt;, and then
close the red font, it will also stop the yellow highlight color too. Situations
like this aren't too serious, though. So, if you set one attribute, set them all. ;)</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/Tk/ROText.html">the Tk::ROText manpage</a> and <a href="/Tk/Text.html">the Tk::Text manpage</a>.</p>
<p>
</p>
<hr />
<h1><a name="changes">CHANGES</a></h1>
<p>0.01 June 20, 2007</p>
<pre>
  - Initial release.</pre>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Casey Kirsle, &lt;casey at cuvou.net&gt;</p>

</body>

</html>
